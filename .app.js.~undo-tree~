"a898557dbdddf92b6294e20a092e8093d92bc947"
[cl-struct-undo-tree [nil ([nil (#4=[nil nil ((1207 . 1230) (#("  res.render('error');
" 0 12 (fontified t) 12 13 (fontified t face (rainbow-delimiters-depth-3-face)) 13 20 (fontified t face font-lock-string-face) 20 21 (fontified t face (rainbow-delimiters-depth-3-face)) 21 23 (fontified t)) . 1207) (undo-tree-id53 . -23) (undo-tree-id54 . -23) (undo-tree-id55 . -23) (1076 . 1146) (#("  res.locals.error = req.app.get('env') === 'development' ? err : {};
" 0 32 (fontified t) 32 33 (fontified t face (rainbow-delimiters-depth-3-face)) 33 38 (fontified t face font-lock-string-face) 38 39 (fontified t face (rainbow-delimiters-depth-3-face)) 39 44 (fontified t) 44 57 (fontified t face font-lock-string-face) 57 66 (fontified t) 66 67 (fontified t face (rainbow-delimiters-depth-3-face)) 67 68 (fontified t face (rainbow-delimiters-depth-3-face)) 68 70 (fontified t)) . 1076) (undo-tree-id56 . -70) (undo-tree-id57 . -70) (undo-tree-id58 . -70) (856 . 892) (#("  var err = new Error('Not Found');
" 0 2 (fontified t) 2 5 (fontified t face font-lock-keyword-face) 5 6 (fontified t) 6 9 (fontified t face font-lock-variable-name-face) 9 12 (fontified t) 12 15 (fontified t face font-lock-keyword-face) 15 16 (fontified t) 16 21 (fontified t face font-lock-type-face) 21 22 (fontified t face (rainbow-delimiters-depth-3-face)) 22 33 (fontified t face font-lock-string-face) 33 34 (fontified t face (rainbow-delimiters-depth-3-face)) 34 36 (fontified t)) . 856) (undo-tree-id59 . -36) (undo-tree-id60 . -36) (undo-tree-id61 . -36) (731 . 778) (#("

app.use('/', index);
app.use('/users', users);
" 0 1 (fontified t) 1 9 (fontified t) 9 10 (fontified t face (rainbow-delimiters-depth-1-face)) 10 13 (fontified t face font-lock-string-face) 13 20 (fontified t) 20 21 (fontified t face (rainbow-delimiters-depth-1-face)) 21 30 (fontified t) 30 31 (fontified t face (rainbow-delimiters-depth-1-face)) 31 39 (fontified t face font-lock-string-face) 39 46 (fontified t) 46 47 (fontified t face (rainbow-delimiters-depth-1-face)) 47 49 (fontified t)) . 731) (undo-tree-id62 . -1) (undo-tree-id63 . -1) (undo-tree-id64 . -2) (undo-tree-id65 . -2) (undo-tree-id66 . -23) (undo-tree-id67 . -23) (undo-tree-id68 . -49) (undo-tree-id69 . -49) (undo-tree-id70 . 49) (undo-tree-id71 . -49) (673 . 730) (#("app.use(express.static(path.join(__dirname, 'public')));
" 0 7 (fontified t) 7 8 (fontified t face (rainbow-delimiters-depth-1-face)) 8 16 (fontified t) 16 22 (fontified t face font-lock-keyword-face) 22 23 (fontified t face (rainbow-delimiters-depth-2-face)) 23 32 (fontified t) 32 33 (fontified t face (rainbow-delimiters-depth-3-face)) 33 44 (fontified t) 44 52 (fontified t face font-lock-string-face) 52 53 (fontified t face (rainbow-delimiters-depth-3-face)) 53 54 (fontified t face (rainbow-delimiters-depth-2-face)) 54 55 (fontified t face (rainbow-delimiters-depth-1-face)) 55 56 (fontified t) 56 57 (fontified t)) . 673) (undo-tree-id72 . -57) (543 . 567) (#("app.use(logger('dev'));
" 0 7 (fontified t) 7 8 (fontified t face (rainbow-delimiters-depth-1-face)) 8 14 (fontified t) 14 15 (fontified t face (rainbow-delimiters-depth-2-face)) 15 20 (fontified t face font-lock-string-face) 20 21 (fontified t face (rainbow-delimiters-depth-2-face)) 21 22 (fontified t face (rainbow-delimiters-depth-1-face)) 22 24 (fontified t)) . 543) (undo-tree-id73 . -24) (344 . 424) (#("app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'hbs');
" 0 7 (fontified t) 7 8 (fontified t face (rainbow-delimiters-depth-1-face)) 8 15 (fontified t face font-lock-string-face) 15 26 (fontified t) 26 27 (fontified t face (rainbow-delimiters-depth-2-face)) 27 38 (fontified t) 38 45 (fontified t face font-lock-string-face) 45 46 (fontified t face (rainbow-delimiters-depth-2-face)) 46 47 (fontified t face (rainbow-delimiters-depth-1-face)) 47 56 (fontified t) 56 57 (fontified t face (rainbow-delimiters-depth-1-face)) 57 70 (fontified t face font-lock-string-face) 70 72 (fontified t) 72 77 (fontified t face font-lock-string-face) 77 78 (fontified t face (rainbow-delimiters-depth-1-face)) 78 80 (fontified t)) . 344) (undo-tree-id74 . -80) (222 . 300) (#("var index = require('./routes/index');
var users = require('./routes/users');
" 0 3 (fontified t face font-lock-keyword-face) 3 4 (fontified t) 4 9 (fontified t face font-lock-variable-name-face) 9 19 (fontified t) 19 20 (fontified t face (rainbow-delimiters-depth-1-face)) 20 36 (fontified t face font-lock-string-face) 36 37 (fontified t face (rainbow-delimiters-depth-1-face)) 37 39 (fontified t) 39 42 (fontified t face font-lock-keyword-face) 42 43 (fontified t) 43 48 (fontified t face font-lock-variable-name-face) 48 58 (fontified t) 58 59 (fontified t face (rainbow-delimiters-depth-1-face)) 59 75 (fontified t face font-lock-string-face) 75 76 (fontified t face (rainbow-delimiters-depth-1-face)) 76 78 (fontified t)) . 222) (undo-tree-id75 . -78) (1 . 221) (#("var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
" 0 3 (fontified t face font-lock-keyword-face) 3 4 (fontified t) 4 11 (fontified t face font-lock-variable-name-face) 11 21 (fontified t) 21 22 (fontified t face (rainbow-delimiters-depth-1-face)) 22 31 (fontified t face font-lock-string-face) 31 32 (fontified t face (rainbow-delimiters-depth-1-face)) 32 34 (fontified t) 34 37 (fontified t face font-lock-keyword-face) 37 38 (fontified t) 38 42 (fontified t face font-lock-variable-name-face) 42 52 (fontified t) 52 53 (fontified t face (rainbow-delimiters-depth-1-face)) 53 59 (fontified t face font-lock-string-face) 59 60 (fontified t face (rainbow-delimiters-depth-1-face)) 60 62 (fontified t) 62 65 (fontified t face font-lock-keyword-face) 65 66 (fontified t) 66 73 (fontified t face font-lock-variable-name-face) 73 83 (fontified t) 83 84 (fontified t face (rainbow-delimiters-depth-1-face)) 84 99 (fontified t face font-lock-string-face) 99 100 (fontified t face (rainbow-delimiters-depth-1-face)) 100 102 (fontified t) 102 105 (fontified t face font-lock-keyword-face) 105 106 (fontified t) 106 112 (fontified t face font-lock-variable-name-face) 112 122 (fontified t) 122 123 (fontified t face (rainbow-delimiters-depth-1-face)) 123 131 (fontified t face font-lock-string-face) 131 132 (fontified t face (rainbow-delimiters-depth-1-face)) 132 134 (fontified t) 134 137 (fontified t face font-lock-keyword-face) 137 138 (fontified t) 138 150 (fontified t face font-lock-variable-name-face) 150 160 (fontified t) 160 161 (fontified t face (rainbow-delimiters-depth-1-face)) 161 176 (fontified t face font-lock-string-face) 176 177 (fontified t face (rainbow-delimiters-depth-1-face)) 177 179 (fontified t) 179 182 (fontified t face font-lock-keyword-face) 182 183 (fontified t) 183 193 (fontified t face font-lock-variable-name-face) 193 203 (fontified t) 203 204 (fontified t face (rainbow-delimiters-depth-1-face)) 204 217 (fontified t face font-lock-string-face) 217 218 (fontified t face (rainbow-delimiters-depth-1-face)) 218 220 (fontified t)) . 1) (undo-tree-id76 . -220)) nil (23088 1540 502753 845000) 0 nil] [nil nil ((731 . 1855)) ((#("const FacebookStrategy = require(\"passport-facebook\").Strategy;

passport.use(
  new FacebookStrategy(
    {
      clientID: process.env.FACEBOOK_APP_ID,
      clientSecret: process.env.FACEBOOK_APP_SECRET,
      callbackURL: \"http://localhost:4000/auth/facebook/callback\"
    },
    function(accessToken, refreshToken, profile, done) {
      const facebookId = profile.id;
      const displayName = profile.displayName;

      console.log(profile);
      User.findOne({ facebookId }, function(err, user) {
        if (err) return done(err);

        if (!user) {
          // Create a new account if one doesn't exist
          user = new User({ facebookId, displayName });
          user.save((err, user) => {
            if (err) return done(err);
            done(null, user);
          });
        } else {
          // Otherwise, return the extant user.
          done(null, user);
        }
      });
    }
  )
);

app.get(\"/auth/facebook\", passport.authenticate(\"facebook\"));

app.get(
  \"/auth/facebook/callback\",
  passport.authenticate(\"facebook\", {
    successRedirect: \"/\",
    failureRedirect: \"/login\"
  })
);" 0 5 (fontified t face font-lock-keyword-face) 5 6 (fontified t) 6 22 (fontified t face font-lock-variable-name-face) 22 32 (fontified t) 32 33 (fontified t face (rainbow-delimiters-depth-1-face)) 33 52 (fontified t face font-lock-string-face) 52 53 (fontified t face (rainbow-delimiters-depth-1-face)) 53 77 (fontified t) 77 78 (fontified t face (rainbow-delimiters-depth-1-face)) 78 81 (fontified t) 81 84 (fontified t face font-lock-keyword-face) 84 85 (fontified t) 85 101 (fontified t face font-lock-type-face) 101 102 (fontified t face (rainbow-delimiters-depth-2-face)) 102 107 (fontified t) 107 108 (fontified t face (rainbow-delimiters-depth-3-face)) 108 226 (fontified t) 226 272 (fontified t face font-lock-string-face) 272 277 (fontified t) 277 278 (fontified t face (rainbow-delimiters-depth-3-face)) 278 284 (fontified t) 284 292 (fontified t face font-lock-keyword-face) 292 293 (fontified t face (rainbow-delimiters-depth-3-face)) 293 304 (fontified t face font-lock-variable-name-face) 304 306 (fontified t) 306 318 (fontified t face font-lock-variable-name-face) 318 320 (fontified t) 320 327 (fontified t face font-lock-variable-name-face) 327 329 (fontified t) 329 333 (fontified t face font-lock-variable-name-face) 333 334 (fontified t face (rainbow-delimiters-depth-3-face)) 334 335 (fontified t) 335 336 (fontified t js--pstate #1=((nil . #3=(2 function 1015 t 1644)) (nil -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-3-face)) 336 343 (fontified t) 343 348 (fontified t face font-lock-keyword-face) 348 349 (fontified t) 349 359 (fontified t face font-lock-variable-name-face) 359 380 (fontified t) 380 385 (fontified t face font-lock-keyword-face) 385 386 (fontified t) 386 397 (fontified t face font-lock-variable-name-face) 397 439 (fontified t) 439 440 (fontified t face (rainbow-delimiters-depth-4-face)) 440 447 (fontified t) 447 448 (fontified t face (rainbow-delimiters-depth-4-face)) 448 468 (fontified t) 468 469 (fontified t face (rainbow-delimiters-depth-4-face)) 469 470 (fontified t face (rainbow-delimiters-depth-5-face)) 470 482 (fontified t) 482 483 (fontified t face (rainbow-delimiters-depth-5-face)) 483 485 (fontified t) 485 493 (fontified t face font-lock-keyword-face) 493 494 (fontified t face (rainbow-delimiters-depth-5-face)) 494 497 (fontified t face font-lock-variable-name-face) 497 499 (fontified t) 499 500 (fontified t face font-lock-variable-name-face) 500 503 (face font-lock-variable-name-face fontified t) 503 504 (face (rainbow-delimiters-depth-5-face) fontified t) 504 505 (fontified t) 505 506 (js--pstate (#2=(nil 4 function 1216 t 1636) . #1#) face (rainbow-delimiters-depth-5-face) fontified t) 506 507 (fontified t) 507 515 (fontified t) 515 517 (fontified t face font-lock-keyword-face) 517 518 (fontified t) 518 519 (fontified t face (rainbow-delimiters-depth-6-face)) 519 522 (fontified t) 522 523 (fontified t face (rainbow-delimiters-depth-6-face)) 523 524 (fontified t) 524 530 (fontified t face font-lock-keyword-face) 530 535 (fontified t) 535 536 (fontified t face (rainbow-delimiters-depth-6-face)) 536 539 (fontified t) 539 540 (fontified t face (rainbow-delimiters-depth-6-face)) 540 551 (fontified t) 551 553 (fontified t face font-lock-keyword-face) 553 554 (fontified t) 554 555 (fontified t face (rainbow-delimiters-depth-6-face)) 555 560 (fontified t) 560 561 (fontified t face (rainbow-delimiters-depth-6-face)) 561 562 (fontified t) 562 563 (fontified t face (rainbow-delimiters-depth-6-face)) 563 574 (fontified t) 574 577 (fontified t face font-lock-comment-delimiter-face) 577 619 (fontified t face font-lock-comment-face) 619 636 (fontified t) 636 639 (fontified t face font-lock-keyword-face) 639 640 (fontified t) 640 644 (fontified t face font-lock-type-face) 644 645 (fontified t face (rainbow-delimiters-depth-7-face)) 645 646 (fontified t face (rainbow-delimiters-depth-8-face)) 646 671 (fontified t) 671 672 (fontified t face (rainbow-delimiters-depth-8-face)) 672 673 (fontified t face (rainbow-delimiters-depth-7-face)) 673 694 (fontified t) 694 695 (fontified t face (rainbow-delimiters-depth-7-face)) 695 696 (fontified t face (rainbow-delimiters-depth-8-face)) 696 705 (fontified t) 705 706 (fontified t face (rainbow-delimiters-depth-8-face)) 706 710 (fontified t) 710 711 (fontified t face (rainbow-delimiters-depth-8-face)) 711 724 (fontified t) 724 726 (fontified t face font-lock-keyword-face) 726 727 (fontified t) 727 728 (fontified t face (rainbow-delimiters-depth-9-face)) 728 731 (fontified t) 731 732 (fontified t face (rainbow-delimiters-depth-9-face)) 732 733 (fontified t) 733 739 (fontified t face font-lock-keyword-face) 739 744 (fontified t) 744 745 (fontified t face (rainbow-delimiters-depth-9-face)) 745 748 (fontified t) 748 749 (fontified t face (rainbow-delimiters-depth-9-face)) 749 767 (fontified t) 767 768 (fontified t face (rainbow-delimiters-depth-9-face)) 768 772 (fontified t face font-lock-constant-face) 772 778 (fontified t) 778 779 (fontified t face (rainbow-delimiters-depth-9-face)) 779 791 (fontified t) 791 792 (fontified t face (rainbow-delimiters-depth-8-face)) 792 793 (fontified t face (rainbow-delimiters-depth-7-face)) 793 803 (fontified t) 803 804 (fontified t face (rainbow-delimiters-depth-6-face)) 804 805 (fontified t) 805 809 (fontified t face font-lock-keyword-face) 809 810 (fontified t) 810 811 (fontified t face (rainbow-delimiters-depth-6-face)) 811 822 (fontified t) 822 825 (fontified t face font-lock-comment-delimiter-face) 825 860 (fontified t face font-lock-comment-face) 860 874 (fontified t) 874 875 (fontified t face (rainbow-delimiters-depth-7-face)) 875 879 (fontified t face font-lock-constant-face) 879 885 (fontified t) 885 886 (fontified t face (rainbow-delimiters-depth-7-face)) 886 896 (fontified t) 896 897 (fontified t face (rainbow-delimiters-depth-6-face)) 897 904 (fontified t) 904 905 (fontified t face (rainbow-delimiters-depth-5-face) js--pend #2#) 905 906 (fontified t face (rainbow-delimiters-depth-4-face)) 906 912 (fontified t) 912 913 (fontified t face (rainbow-delimiters-depth-3-face) js--pend ((#2#) . #3#)) 913 916 (fontified t) 916 917 (fontified t face (rainbow-delimiters-depth-2-face)) 917 918 (fontified t) 918 919 (fontified t face (rainbow-delimiters-depth-1-face)) 919 929 (fontified t) 929 930 (fontified t face (rainbow-delimiters-depth-1-face)) 930 946 (fontified t face font-lock-string-face) 946 969 (fontified t) 969 970 (fontified t face (rainbow-delimiters-depth-2-face)) 970 980 (fontified t face font-lock-string-face) 980 981 (fontified t face (rainbow-delimiters-depth-2-face)) 981 982 (fontified t face (rainbow-delimiters-depth-1-face)) 982 992 (fontified t) 992 993 (fontified t face (rainbow-delimiters-depth-1-face)) 993 996 (fontified t) 996 1007 (fontified t face font-lock-string-face) 1007 1021 (face font-lock-string-face fontified t) 1021 1023 (fontified t) 1023 1046 (fontified t) 1046 1047 (fontified t face (rainbow-delimiters-depth-2-face)) 1047 1057 (fontified t face font-lock-string-face) 1057 1059 (fontified t) 1059 1060 (fontified t face (rainbow-delimiters-depth-3-face)) 1060 1082 (fontified t) 1082 1085 (fontified t face font-lock-string-face) 1085 1108 (fontified t) 1108 1116 (fontified t face font-lock-string-face) 1116 1119 (fontified t) 1119 1120 (fontified t face (rainbow-delimiters-depth-3-face)) 1120 1121 (fontified t face (rainbow-delimiters-depth-2-face)) 1121 1122 (fontified t) 1122 1123 (fontified t face (rainbow-delimiters-depth-1-face)) 1123 1124 (fontified t)) . 731) (undo-tree-id0 . -909) (undo-tree-id1 . -543) (undo-tree-id2 . -1122) (undo-tree-id3 . -1122) (undo-tree-id4 . -751) (undo-tree-id5 . -751) (undo-tree-id6 . -712) (undo-tree-id7 . -712) (undo-tree-id8 . -675) (undo-tree-id9 . -675) (undo-tree-id10 . -619) (undo-tree-id11 . -619) (undo-tree-id12 . -564) (undo-tree-id13 . -564) (undo-tree-id14 . -781) (undo-tree-id15 . -781) (undo-tree-id16 . -795) (undo-tree-id17 . -795) (undo-tree-id18 . -812) (undo-tree-id19 . -812) (undo-tree-id20 . -860) (undo-tree-id21 . -860) (undo-tree-id22 . -888) (undo-tree-id23 . -888) (undo-tree-id24 . -898) (undo-tree-id25 . -898) (undo-tree-id26 . -908) (undo-tree-id27 . -908) (undo-tree-id28 . -914) (undo-tree-id29 . -914) (undo-tree-id30 . -918) (undo-tree-id31 . -918) (undo-tree-id32 . -921) (undo-tree-id33 . -921) (undo-tree-id34 . -922) (undo-tree-id35 . -922) (undo-tree-id36 . -984) (undo-tree-id37 . -984) (undo-tree-id38 . -985) (undo-tree-id39 . -985) (undo-tree-id40 . -994) (undo-tree-id41 . -994) (undo-tree-id42 . -1023) (undo-tree-id43 . -1023) (undo-tree-id44 . -1061) (undo-tree-id45 . -1061) (undo-tree-id46 . -1087) (undo-tree-id47 . -1087) (undo-tree-id48 . -543) (undo-tree-id49 . -543) (undo-tree-id50 . -1117) (undo-tree-id51 . -1117) (undo-tree-id52 . -1123)) (23087 65114 917593 808000) 0 nil]) ((730 . 731) (729 . 730) (t 23087 64969 639638 361000) 673) nil (23087 65114 918156 931000) 0 nil]) nil nil (23087 65114 917611 756000) 0 nil] #4# 2569 3 nil]